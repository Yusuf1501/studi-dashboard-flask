{% extends "base.html" %}

{% block title2 %}
    Thesendetail: {{ thesis.title }}
{% endblock %}




{% block content %}
    <h1>Thesendetail: {{ thesis.title }}</h1>

    <!-- Tabelle zur Anzeige und Bearbeitung der Bewertungskriterien -->
    <form action="/thesis/{{ thesis.id }}/update_ratings" method="post">
        <table>
            <tr>
                <th>Kriterium</th>
                <th>Gewichtung</th>
                <th>Note</th>
                <th>Gewichtete Punkte</th>
                <th>Aktion</th>
            </tr>
            {% for rating in ratings %}
                <tr>
                    <td><input type="text" name="criterion[]" value="{{ rating.criterion }}"></td>
                    <td><input type="number" name="weight[]" value="{{ rating.weight }}"></td>
                    <td><input type="number" name="rating[]" value="{{ rating.rating }}"></td>
                    <td>{{ rating.weight * rating.rating }}</td>
                    <td><a href="/thesis/{{ thesis.id }}/rating/delete/{{ rating.id }}">Löschen</a></td>
                </tr>
            {% endfor %}

            <tr>
                <td><input type="text" name="new_criterion" placeholder="Neues Kriterium"></td>
                <td><input type="number" name="new_weight" placeholder="Gewichtung"></td>
                <td><input type="number" name="new_rating" placeholder="Note"></td>
                <td></td>
                <td><button type="submit">Aktualisieren</button></td>
            </tr>

            <!-- Fußzeile der Tabelle -->
            <tr class="table_footer">
                <td colspan="1"><strong>Summen</strong></td>
                <td>{{ total_weight }}</td>
                <td></td>
                <td>{{ total_rating }}</td>
                <td></td>
            </tr>
            <tr>
                <td colspan="5">Durchschnittsnote: {{ average_rating }}</td>
            </tr>
        </table>
    </form>

{% endblock %}
