<!DOCTYPE html>
<html>
<head>
    <title>Thesis Evaluation</title>
</head>
<body>
    <h1>Thesis Evaluation Dashboard</h1>

    <h2>Students</h2>
    <ul>
        {% for student in students %}
            <li>
                {{ student.name }}
                <form action="/remove_student/{{ student.id }}" method="get" style="display:inline;">
                    <input type="submit" value="Remove Student">
                </form>
                <button onclick="toggleThesisForm('{{ student.id }}')">Add Thesis</button>
                <div id="{{ student.id }}-thesis-form" style="display:none;">
                    <form action="/add_thesis" method="post">
                        <input type="hidden" name="student" value="{{ student.id }}">
                        <input type="text" name="title" placeholder="Enter thesis title" required>
                        <input type="submit" value="Add Thesis">
                    </form>
                </div>
                <h4>Theses:</h4>
                <ul>
                    {% for thesis in student.theses %}
                        <li>
                            {{ thesis.title }}
                            <form action="/remove_thesis/{{ thesis.id }}" method="get" style="display:inline;">
                                <input type="submit" value="Remove Thesis">
                            </form>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>

    <form action="/add_student" method="post">
        <input type="text" name="name" placeholder="Enter student name" required>
        <input type="submit" value="Add Student">
    </form>

    <script>
        function toggleThesisForm(studentId) {
            const formId = studentId + "-thesis-form";
            const formElement = document.getElementById(formId);
            formElement.style.display = formElement.style.display === "none" ? "block" : "none";
        }
    </script>
</body>
</html>
